[gd_resource type="ShaderMaterial" load_steps=2 format=3 uid="uid://t6a20am8q21a"]

[sub_resource type="Shader" id="Shader_rbe6v"]
code = "//ATTENTION:
//  THIS IS SHADE AUTOGENERATED BY
//  THE ADDON SPRITE-SHADER-MIXER
//  ANY MANUAL CHANGES WILL BE REMOVED WHEN THE ADDON
//  UPDATES THIS SHADER.
//  ANYWAY, YOU CAN SAVE THE CURRENT VERSION AS A RESOURCE FILE.
//SHADERS:Outline,Pixel Disolve,
shader_type canvas_item;

uniform float opacity:hint_range(0.0, 1.0, 0.01)=1.;

	
//OUTLINE
uniform bool  OUTLINE_active  = true;
uniform float OUTLINE_thickness : hint_range(0, 30) = 20.0;
uniform vec4  OUTLINE_color : source_color = vec4(1,0,0,1);
void outline(in vec2 uv, in sampler2D tex, in vec2 spriteSize, in vec2 pixelSize, inout vec4 color) {
    vec2 size = vec2(OUTLINE_thickness) / spriteSize;
	   
    float alpha = color.a;
    alpha += texture(tex, uv + vec2(0.0, -size.y)).a;
    alpha += texture(tex, uv + vec2(size.x, -size.y)).a;
    alpha += texture(tex, uv + vec2(size.x, 0.0)).a;
    alpha += texture(tex, uv + vec2(size.x, size.y)).a;
    alpha += texture(tex, uv + vec2(0.0, size.y)).a;
    alpha += texture(tex, uv + vec2(-size.x, size.y)).a;
    alpha += texture(tex, uv + vec2(-size.x, 0.0)).a;
    alpha += texture(tex, uv + vec2(-size.x, -size.y)).a;
   
    vec3 final_color = mix(OUTLINE_color.rgb, color.rgb, color.a);
    color = vec4(final_color, clamp(alpha, 0.0, 1.0));
}
uniform bool PIXELDISOLVE_active=true;
uniform float PIXELDISOLVE_time:hint_range(0.0, 1.57, 0.001) = 1.0;
uniform vec2 PIXELDISOLVE_custom_resolution = vec2(100,100);
float PIXELDISOLVE_rand(vec2 co){
    return fract(sin(dot(co.xy ,vec2(12.9898,96.233))) * 43758.5453);
}
void pixelDisolve(in vec2 uv, in sampler2D sampler, vec2 size, vec2 pixelSize, inout vec4 color){
    if(color.a > 0.0 && texture(sampler, uv).a == 0.0){
        vec2 within_texture_pixel = floor(uv * PIXELDISOLVE_custom_resolution);
        if(sin(PIXELDISOLVE_time) <= PIXELDISOLVE_rand(within_texture_pixel))
            color = vec4(0.0,0.0,0.0,0.0);
    }
}


void fragment() {
	vec4 color = texture(TEXTURE, UV);
	vec2 size = vec2(textureSize(TEXTURE, 0));
	vec2 uv = UV;
	vec2 screen_uv = SCREEN_UV;

	if(OUTLINE_active) outline(uv, TEXTURE, size, TEXTURE_PIXEL_SIZE, color);
	if(PIXELDISOLVE_active) pixelDisolve(uv, TEXTURE, size, TEXTURE_PIXEL_SIZE, color);

	color.a*=opacity;
	COLOR=color;
}

void vertex() {
	
}


"

[resource]
shader = SubResource("Shader_rbe6v")
shader_parameter/opacity = 1.0
shader_parameter/OUTLINE_active = true
shader_parameter/OUTLINE_thickness = 1.37
shader_parameter/OUTLINE_color = Color(0.0823529, 0.952941, 0.945098, 1)
shader_parameter/PIXELDISOLVE_active = true
shader_parameter/PIXELDISOLVE_time = 0.562
shader_parameter/PIXELDISOLVE_custom_resolution = Vector2(50, 50)
