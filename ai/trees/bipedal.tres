[gd_resource type="BehaviorTree" load_steps=30 format=3 uid="uid://dk6bsl8iqc4uw"]

[ext_resource type="Script" uid="uid://bnt2qotdae4lb" path="res://ai/tasks/bipedal/check_on_player.gd" id="1_bqr7p"]
[ext_resource type="Script" uid="uid://6f47hyfbb3vf" path="res://ai/tasks/bipedal/check_is_on_block.gd" id="1_p1tlg"]
[ext_resource type="Script" uid="uid://c4vd7spqyngw5" path="res://ai/tasks/bipedal/Raycast_floor.gd" id="2_scqg3"]
[ext_resource type="Script" uid="uid://b1writ5oqj4eh" path="res://ai/tasks/bipedal/Up_Down.gd" id="4_bqr7p"]
[ext_resource type="Script" uid="uid://b6nlewxlf7171" path="res://ai/tasks/spider/x_distance.gd" id="4_tf0vs"]
[ext_resource type="Script" uid="uid://5rkdo3p5yleo" path="res://ai/tasks/bipedal/turn_off_mask.gd" id="5_tf0vs"]
[ext_resource type="Script" uid="uid://bbk6kip31r5e2" path="res://ai/tasks/bipedal/Jump.gd" id="6_bqr7p"]
[ext_resource type="Script" uid="uid://c1y1qhorim7n4" path="res://ai/tasks/bipedal/turn_on_mask.gd" id="7_bjfws"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_1v61r"]
var/State/name = &"State"
var/State/type = 4
var/State/value = ""
var/State/hint = 0
var/State/hint_string = ""

[sub_resource type="BTAction" id="BTAction_bjfws"]
custom_name = "Check is on block"
script = ExtResource("1_p1tlg")
max_air_time = 2.0

[sub_resource type="BTAction" id="BTAction_e0gxu"]
script = ExtResource("1_bqr7p")

[sub_resource type="BBNode" id="BBNode_fxuc4"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_8bax6"]
animation_player = SubResource("BBNode_fxuc4")
animation_name = &"walk"

[sub_resource type="BTAction" id="BTAction_scqg3"]
script = ExtResource("2_scqg3")

[sub_resource type="BTAction" id="BTAction_p1tlg"]
script = ExtResource("4_tf0vs")
min_distance_x = 100

[sub_resource type="BTSequence" id="BTSequence_bqr7p"]
custom_name = "Walk"
children = [SubResource("BTPlayAnimation_8bax6"), SubResource("BTAction_scqg3"), SubResource("BTAction_p1tlg")]

[sub_resource type="BTAction" id="BTAction_fxuc4"]
script = ExtResource("4_bqr7p")
down_offset = -16

[sub_resource type="BTSequence" id="BTSequence_fxuc4"]
custom_name = "Check up or down"
children = [SubResource("BTAction_fxuc4")]

[sub_resource type="BBVariant" id="BBVariant_p1tlg"]
type = 4
saved_value = "Fall"
resource_name = "Fall"

[sub_resource type="BTCheckVar" id="BTCheckVar_scqg3"]
variable = &"State"
value = SubResource("BBVariant_p1tlg")

[sub_resource type="BTAction" id="BTAction_bqr7p"]
script = ExtResource("5_tf0vs")

[sub_resource type="BTSequence" id="BTSequence_8bax6"]
custom_name = "Fall"
children = [SubResource("BTCheckVar_scqg3"), SubResource("BTAction_bqr7p")]

[sub_resource type="BBVariant" id="BBVariant_tf0vs"]
type = 4
saved_value = "Jump"
resource_name = "Jump"

[sub_resource type="BTCheckVar" id="BTCheckVar_bjfws"]
variable = &"State"
value = SubResource("BBVariant_tf0vs")

[sub_resource type="BTAction" id="BTAction_oubh8"]
script = ExtResource("6_bqr7p")
Jump = 400

[sub_resource type="BTAction" id="BTAction_tf0vs"]
script = ExtResource("7_bjfws")

[sub_resource type="BTSequence" id="BTSequence_p1tlg"]
custom_name = "Jump"
children = [SubResource("BTCheckVar_bjfws"), SubResource("BTAction_oubh8"), SubResource("BTAction_tf0vs")]

[sub_resource type="BTSelector" id="BTSelector_tf0vs"]
custom_name = "Bipedal tree"
children = [SubResource("BTSequence_bqr7p"), SubResource("BTSequence_fxuc4"), SubResource("BTSequence_8bax6"), SubResource("BTSequence_p1tlg")]

[sub_resource type="BTParallel" id="BTParallel_8bax6"]
custom_name = "Bipedal tree and check"
children = [SubResource("BTAction_bjfws"), SubResource("BTAction_e0gxu"), SubResource("BTSelector_tf0vs")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_1v61r")
root_task = SubResource("BTParallel_8bax6")
